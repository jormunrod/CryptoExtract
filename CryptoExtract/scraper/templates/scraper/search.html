{% extends 'core/base.html' %}

{% block content %}
<div class="search-container">
    <h1>Search Cryptocurrencies</h1>
    <form method="get" action="{% url 'search_cryptos' %}">
        <input type="text" name="q" placeholder="Search by name..." value="{{ query }}" class="search-input">
        <button type="submit" class="btn btn-primary">Search</button>
    </form>

    {% if query %}
        <h2>Results for "{{ query }}"</h2>
        {% if results %}
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Price</th>
                        <th>Change</th>
                        <th>% Change</th>
                        <th>Market Cap</th>
                        <th>Volume</th>
                    </tr>
                </thead>
                <tbody>
                    {% for crypto in results %}
                        <tr>
                            <td>{{ crypto.name }}</td>
                            <td>{{ crypto.price }}</td>
                            <td>{{ crypto.change }}</td>
                            <td>{{ crypto.percent_change }}</td>
                            <td>{{ crypto.market_cap }}</td>
                            <td>{{ crypto.volume }}</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% else %}
            <p>No results found for "{{ query }}".</p>
        {% endif %}
    {% endif %}
</div>
{% endblock %}
